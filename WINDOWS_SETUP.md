# Настройка для Windows

## Проблема: программа не запускается после установки

Если программа не запускается после установки на Windows, вероятно проблема с настройкой переменных окружения для получения ключей от key-agent.

## Решение

### 1. Создайте файл `.env` рядом с исполняемым файлом

После установки приложения найдите папку установки (обычно `C:\Users\<ИмяПользователя>\AppData\Local\Programs\meeting-notes-coder\`) и создайте там файл `.env` со следующим содержимым:

```env
KEY_AGENT_URL=http://109.61.108.37:8089
KEY_AGENT_CLIENT_TOKEN=
API_URL=http://109.61.108.37:4000
SITE_URL=http://109.61.108.37:3005
```

**Важно**: 
- Замените URL на адрес вашего key-agent сервера
- Если key-agent требует токен, укажите его в `KEY_AGENT_CLIENT_TOKEN`

### 2. Альтернативный способ: .env в папке с .exe

Для портативной версии (portable build), создайте файл `.env` в той же папке, где находится `.exe` файл.

### 3. Проверьте, что key-agent запущен

Убедитесь, что key-agent сервис доступен:

```bash
curl http://109.61.108.37:8089/health
```

Должен вернуться ответ `{"status":"ok"}` или похожий.

### 4. Запустите программу снова

После создания `.env` файла, запустите программу снова. Если ошибка повторится, программа покажет диалог с подробным сообщением об ошибке.

## Диагностика

Если программа всё равно не запускается:

1. **Проверьте логи**: В Windows логи обычно находятся в:
   - `%APPDATA%\Meeting Notes Coder\logs\`
   - Или в Event Viewer: `Windows Logs > Application`

2. **Проверьте доступность key-agent**:
   - Откройте браузер и перейдите на `http://109.61.108.37:8089/health`
   - Должен быть доступен (если на этом адресе ваш key-agent)

3. **Проверьте файл .env**:
   - Убедитесь, что файл называется именно `.env` (не `.env.txt`)
   - Проверьте, что внутри нет лишних пробелов или невидимых символов
   - Проверьте формат: каждая переменная на отдельной строке, формат `KEY=VALUE`

## Пример содержимого .env

```env
# URL сервиса key-agent (обязательно)
KEY_AGENT_URL=http://109.61.108.37:8089

# Токен для авторизации (если требуется)
KEY_AGENT_CLIENT_TOKEN=

# URL API бэкенда
API_URL=http://109.61.108.37:4000

# URL веб-сайта
SITE_URL=http://109.61.108.37:3005

# Схема для deep links
DEEPLINK_SCHEME=cluely
```

## Контакты для поддержки

Если проблема не решается, проверьте:
1. Что key-agent сервис запущен и доступен
2. Что файл .env находится в правильном месте
3. Что все URL в .env правильные и доступны

